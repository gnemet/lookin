graph LR
    subgraph SOURCES["ğŸ—„ï¸ Sources"]
        ORACLE["ğŸŸ  Oracle Jira"]
        LDAP["ğŸ”µ LDAP"]
        TER["ğŸŸ¢ TER API"]
    end

    subgraph INGEST["âš™ï¸ Ingestion"]
        FDW["oracle_fdw"]
        SNAPSHOT["snapshot_oltp.sh"]
        LDAP_IMP["ldap-worker"]
    end

    subgraph PG["ğŸ˜ PostgreSQL 17"]
        OLTP["oltp â€” 20 tables"]
        DWH["â­ dwh â€” Star Schema"]
        RAGDB["ğŸ§  ragdb<br/>pgvector"]
    end

    subgraph MCP["ğŸ“‹ MCP Pipeline"]
        CATALOGS["30 JSON catalogs"]
        CHAINS["12 chain MCPs"]
        MCPFORGE["ğŸ”¨ MCP-Forge"]
    end

    subgraph APP["ğŸ–¥ï¸ Jiramntr"]
        API["REST API"]
        AISQL["AI SQL Lab"]
        BIMOD["BI Queries"]
        KPIMOD["KPI Dashboard"]
        ETL["ETL Orchestrator"]
    end

    subgraph AI["ğŸ¤– AI Layer"]
        AICHAT["âš¡ aichat module"]
        GEMINI["Gemini"]
        OLLAMA["Ollama"]
    end

    ORACLE --> FDW --> SNAPSHOT --> OLTP
    LDAP --> LDAP_IMP
    OLTP --> DWH
    DWH --> CATALOGS
    CATALOGS --> MCPFORGE
    MCPFORGE --> CHAINS
    CHAINS --> RAGDB
    DWH <--> APP
    AISQL --> AICHAT
    AICHAT --> GEMINI
    AICHAT --> OLLAMA
    AICHAT --> RAGDB
