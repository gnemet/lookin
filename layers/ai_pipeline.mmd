graph TB
    subgraph PHASE1["ðŸ§™ Phase 1: Teacher Answer Key"]
        TESTS["131 Test Questions"]
        TEACHER["Teacher (Gemini)"]
        GOLD["Gold Standard SQL"]
        TESTS --> TEACHER --> GOLD
    end

    subgraph PHASE2["ðŸ¤– Phase 2: Student Test"]
        STUDENT["Student (Ollama)"]
        RESULTS["Student Answers"]
        TESTS --> STUDENT --> RESULTS
    end

    subgraph PHASE3["ðŸ“ Phase 3: Grading"]
        GRADE["Compare & Score"]
        CORRECTIONS["Correction Blueprints"]
        TRAINING["training.jsonl"]
        GOLD --> GRADE
        RESULTS --> GRADE
        GRADE -->|"Failed"| CORRECTIONS --> TRAINING
    end

    subgraph FEEDBACK["ðŸ“ Feedback Loop"]
        SQLERR["sqlerr.yaml"]
        WARN["warning.yaml"]
        MANUAL["Manual ðŸ‘/ðŸ‘Ž"]
    end

    GRADE --> SQLERR & WARN
    TRAINING -->|"Fine-tune"| STUDENT
